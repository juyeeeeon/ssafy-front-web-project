<!DOCTYPE html>
<html lang="en" data-bs-theme="auto">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="" />
  <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors" />
  <meta name="generator" content="Hugo 0.115.4" />
  <title>여행정보를 주다</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" />
  <link href="https://webfontworld.github.io/goodchoice/Jalnan.css" rel="stylesheet">

  <style>
    body {
      font-family: 'Jalnan';
      background-size: cover;
      background-image: url(assets/img/vecteezy_early-morning-sky-or-heaven-and-water-surface_16263127.jpg);
    }

    .bi {
      vertical-align: -0.125em;
      fill: currentColor;
    }
  </style>
</head>

<body>
  <!-- header -->
  <nav
    class="navbar navbar-expand-md bg-dark sticky-top border-bottom bg-primary-subtle border border-primary-subtle rounded-3"
    style="top: 20px; margin: 10px;">
    <div class="container d-flex justify-content-center">
      <a class="navbar-brand" href="./index.html">여행정보를 주다</a>
    </div>
  </nav>

  <!-- main -->
  <main>
    <!-- section -->
    <div class="container-fluid pt-3">
      <div class="row justify-content-around">

        <!-- 좌측 회원 정보 (로그인 전) -->
        <div class="col-2 position-relative overflow-hidden text-center pt-3 m-1"
          style="min-width: 500px; display: block" id="login-form">
          <div class="row p-5 m-2">
            <form>
              <h1 class="h3 mb-3 fw-normal">로그인</h1>
              <div class="form-floating mb-3">
                <input type="text" class="form-control" id="login-id" placeholder="아이디" />

                <label for="floatingInput">ID</label>
              </div>
              <div class="form-floating">
                <input type="password" class="form-control" id="login-password" placeholder="비밀번호" />
                <label for="floatingPassword">비밀번호</label>
              </div>

              <div class="form-check text-start my-3">
                <input class="form-check-input" type="checkbox" value="remember-me" id="flexCheckDefault" />
                <label class="form-check-label" for="flexCheckDefault">
                  아이디 저장하기
                </label>
              </div>

              <button class="btn btn-outline-dark w-100 py-2 mb-3 " type="button" onclick="login()"
                style="background-color: #001e3d; color: white;">
                로그인
              </button>

              <button type=" button" class="btn btn-outline-dark w-100 py-2 mb-3" data-bs-toggle="modal"
                data-bs-target="#signUp" data-bs-whatever="@mdo" style="background-color: #001e3d; color: white;">
                회원가입
              </button>

              <button type="button" class="btn btn-outline-dark w-100 py-2" data-bs-toggle="modal"
                data-bs-target="#findPW" data-bs-whatever="@mdo" style="background-color: #001e3d; color: white;">
                비밀번호 찾기
              </button>

              <!-- 회원가입 모달창 -->
              <div class="modal fade" id="signUp" tabindex="-1" aria-labelledby="signUpLabel" aria-hidden="true">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h1 class="modal-title fs-5" id="signUpLabel">
                        회원가입
                      </h1>
                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                      <form>
                        <div class="mb-4">
                          <input type="text" class="form-control" id="id" placeholder="아이디" required />
                        </div>
                        <div class="mb-4">
                          <input type="email" class="form-control" id="email" placeholder="이메일" required />
                        </div>
                        <div class="mb-4">
                          <input type="text" class="form-control" id="nickname" placeholder="닉네임" required />
                        </div>
                        <div class="mb-4">
                          <input type="password" class="form-control" id="password" placeholder="비밀번호" required />
                        </div>
                        <div class="mb-4">
                          <input type="password" class="form-control" id="password-check" placeholder="비밀번호 확인"
                            required />
                        </div>
                      </form>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                        닫기
                      </button>
                      <button type="button" class="btn" style="background-color: #001e3d; color: white;"
                        onclick="regist()">
                        가입하기
                      </button>
                    </div>
                  </div>
                </div>
              </div>

              <!-- 비밀번호 수정 -->
              <div class="modal fade" id="findPW" tabindex="-1" aria-labelledby="findPWLabel" aria-hidden="true">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h1 class="modal-title fs-5" id="findPWLabel">
                        비밀번호 찾기
                      </h1>
                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                      <form>
                        <div class="mb-4">
                          <input type="text" class="form-control" id="find_id" placeholder="아이디" required />
                        </div>
                        <div class="mb-4">
                          <input type="email" class="form-control" id="find_email" placeholder="이메일" required />
                        </div>
                      </form>
                    </div>
                    <div id="find_btn" class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                        닫기
                      </button>
                      <button type="button" class="btn" onclick="findPW()"
                        style="background-color: #001e3d; color: white;">
                        입력
                      </button>
                    </div>

                    <!-- 수정 부분 -->
                    <div id="updateID" style="display: none">
                      <a>새로운 비밀번호 설정</a>
                      <div class="modal-body">
                        <div class="mb-4">
                          <input type="password" class="form-control" id="update-password" placeholder="새로운 비밀번호"
                            required />
                        </div>
                        <div class="mb-4">
                          <input type="password" class="form-control" id="update-password-check"
                            placeholder="새로운 비밀번호 확인" required />
                        </div>
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                          닫기
                        </button>
                        <button type="button" class="btn btn-primary" onclick="updatePW()">
                          수정
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </form>
          </div>
          <hr />
        </div>

        <!-- 회원 정보 (로그인 후) -->
        <div id="info-form" class="col-2 position-relative overflow-hidden text-center pt-3 m-1"
          style="min-width: 500px; display: none">
          <div class="mt-5 text-center">
            <img style="width: 300px" src="assets/img/user.png" alt="" />
          </div>
          <div class="row ">
            <h3 class="mb-3 fw-normal" id="hello-user"></h3>
            <button class="btn btn-outline-dark w-100 py-2 mb-3" onClick="location.href='mypage.html'"
              style="background-color: #001e3d; color: white;">
              내 정보
            </button>

            <button type="button" class="btn btn-outline-dark w-100 py-2" data-bs-toggle="modal"
              data-bs-target="#exampleModal" data-bs-whatever="@mdo" onclick="logout()"
              style="background-color: #001e3d; color: white;">
              로그아웃
            </button>
          </div>
          <hr />
        </div>


        <!-- 우측 -->
        <div class="col-6 position-relative overflow-hidden p-3 m-1 text-center">
          <div class="col-md-8 mx-auto my-5">
            <h1>여행을 떠나볼까요?</h1>
            <div class="mt-5 text-center">
              <img style="width: 300px" src="assets/img/traveler.png" alt="" />
            </div>
            <form action="">
              <div class="input-group m-3" style="min-width: 200px">
                <span class="input-group-text" style="width: 50px; background-color: #001e3d">
                  <i class="bi bi-map-fill m-auto" style="color: white"></i>
                </span>
                <select id="index-search-area" class="form-select me-2" aria-label="Default select example"
                  style="background-color: #e6e6e6">
                  <option value="0" selected>어디로 떠날까요?</option>
                </select>
              </div>
              <div class="input-group m-3" style="min-width: 200px">
                <span class="input-group-text" style="width: 50px; background-color: #001e3d">
                  <i class="bi bi-binoculars-fill m-auto" style="color: white"></i>
                </span>
                <select id="index-search-content-id" class="form-select me-2" style="background-color: #e6e6e6">
                  <option value="0" selected>어떤 것을 할까요?</option>
                  <option value="12" title="관광지">관광지</option>
                  <option value="14">문화시설</option>
                  <option value="15">축제공연행사</option>
                  <option value="25">여행코스</option>
                  <option value="28">레포츠</option>
                  <option value="32">숙박</option>
                  <option value="38">쇼핑</option>
                  <option value="39">음식점</option>
                </select>
              </div>
              <div class="input-group m-3" style="min-width: 200px">
                <span class="input-group-text" style="width: 50px; background-color: #001e3d">
                  <i class="bi bi-question-lg m-auto" style="color: white"></i>
                </span>
                <input id="index-search-keyword" class="form-control me-2" style="background-color: #e6e6e6"
                  type="search" placeholder="무엇이 궁금한가요?" aria-label="검색어" />
              </div>

              <button class="btn btn-outline-dark mx-auto mt-3" style="background-color: #001e3d; color: white;"
                type="button" onclick="search()">
                <i class="bi bi-search"></i> 검색
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- footer -->
    <footer class="container py-5 d-flex justify-content-center">
      <small class="d-block mb-3 text-body-secondary ">&copy; 손다인 & 이주연</small>
    </footer>
  </main>
</body>

<!-- bootstrap -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
<!--main.js-->
<script src="assets/js/main.js"></script>
<!--kakao api-->
<script type="text/javascript"
  src="//dapi.kakao.com/v2/maps/sdk.js?appkey=87c9546ca7e332f072680d8f464022a2&libraries=services,clusterer,drawing"></script>

<script>
  const loginUser = localStorage.getItem("loginUser");
  if (loginUser != null) {
    const obj = JSON.parse(loginUser);

    document.getElementById("login-form").style.display = "none";
    document.getElementById("info-form").style.display = "block";
    document.getElementById(
      "hello-user"
    ).innerHTML = `안녕하세요, ${obj.nickname}님`;
  }



  // index page 로딩 후 전국의 시도 설정.
  let areaUrl =
    "https://apis.data.go.kr/B551011/KorService1/areaCode1?serviceKey=" +
    "uWOp5xSY8MADHRhdxsJyE5eWdsFd0dwa6yv1MsYE1le%2BZsyFhIHakIrK%2FZr%2FEAq1%2BIqpDu%2FwAl3sgiqlW609hA%3D%3D" +
    "&numOfRows=20&pageNo=1&MobileOS=ETC&MobileApp=AppTest&_type=json";

  // fetch(areaUrl, { method: "GET" }).then(function (response) { return response.json() }).then(function (data) { makeOption(data); });
  fetch(areaUrl, { method: "GET" })
    .then((response) => response.json())
    .then((data) => makeOption(data));

  function makeOption(data) {
    let areas = data.response.body.items.item;
    // console.log(areas);
    let sel = document.getElementById("index-search-area");
    areas.forEach((area) => {
      let opt = document.createElement("option");
      opt.setAttribute("value", area.code);
      opt.appendChild(document.createTextNode(area.name));

      sel.appendChild(opt);
    });
  }
</script>

</html>